@echo off
echo ==========================================
echo      正在将代码同步到 GitHub...
echo ==========================================

:: 添加所有修改
git add .

:: 询问提交信息，如果不想输入直接回车使用默认信息
set /p commit_msg="请输入提交说明 (直接回车默认'Update'): "
if "%commit_msg%"=="" set commit_msg=Update

:: 提交
git commit -m "%commit_msg%"

:: 推送
echo 正在推送到云端...
git push

if %errorlevel% equ 0 (
    echo ==========================================
    echo      ✅ 同步成功！Mac 端现在可以拉取了。
    echo ==========================================
) else (
    echo ==========================================
    echo      ❌ 同步失败，请检查网络或冲突。
    echo ==========================================
)

pause
